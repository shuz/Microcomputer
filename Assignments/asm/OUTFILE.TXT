title:delblank.modelsmall.codeorg100hmain:jmpbegin;dataerrmsgequ$db'Diskoperationerror!',0dh,0ah,'$'innameequ$db'delblank.asm',0houtnameequ$db'outfile.txt',0hinfiledw?outfiledw?buf1equ1000hbuf2equ3000hbufszequ2000h;macrodefinitionsdosmacro$ahmovah,$ahint21hendm;printmessageprtmsgmacromsgmovdx,msgmovah,09hint21hendm;printacharprtchrmacrochmovdl,chmovah,02hint21hendm;createanormalfilefcrtmacronamemovdx,namemovcx,0dos3chjcabortendm;openafile;modes:mreadequ0mwriteequ1mbothequ2fopenmacroname,modemovdx,namemoval,modedos3dhjcabortendm;closeafilefclosemacrohandlemovbx,handledos3ehjcabortendm;readafilefreadmacrohandle,count,bufmovbx,handlemovcx,countmovdx,bufdos3fhjcabortendm;fwriteafilefwritemacrohandle,count,bufmovbx,handlemovcx,countmovdx,bufdos40hjcabortxorax,cxjnzabortendm;endmacrodefinitionsabort:prtmsgerrmsgint20hbegin:fopeninname,mreadmovinfile,axfcrtoutnamemovoutfile,axrdbuf:freadinfile,bufsz,buf1movcx,axjcxzexit;processmovsi,buf1movdi,buf2cldnextch:lodsbcmpal,''jbeblankstosbprtchralblank:loopnextchsubdi,buf2fwriteoutfile,di,buf2jmprdbufexit:fcloseinfilefcloseoutfiledos4chendmain