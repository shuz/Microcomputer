;PRINTTEST&8255CONTROL
ADDR0809=08H
ADDR74LS244=18H

ADDR74LS377=28H
ADDRPRNSTB=100H

DATA SEGMENT
	MESS2 DB 42H
	MESS  DB "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",0DH,0AH,'$'
DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE,DS:DATA

START:
	MOV	AX,DATA
	MOV	DS,AX

	MOV     DI,0H

NEXT:	IN	AL,ADDR74LS244  ;READ BUSY SINGAL
	TEST	AL,80H
	JNZ	NEXT
	MOV	AL,MESS[DI]	;送出字符
        OUT	ADDR74LS377,AL
           
	MOV	DX,ADDRPRNSTB
	OUT	DX,AL
	NOP
	NOP
	NOP

	INC 	DI
	MOV	AL,MESS[DI]
	CMP	AL,'$'
	JZ	ENDPRINT
	JMP	NEXT
ENDPRINT:
	INT	20H
CODE	ENDS
	END	START

;打印机打印"ABCDEFGHIJKLMN............."